<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Atlas — Analyses Géopolitiques & Marchés</title>
    <link href="https://fonts.googleapis.com/css2?family=Crimson+Pro:wght@400;600;700&family=IBM+Plex+Sans:wght@400;500;600&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root{--bg:#0a0a0a;--surface:#1a1a1a;--text:#e8e8e8;--muted:#a0a0a0;--accent:#d4af37;--border:#2a2a2a;--warning:#c85a54;--success:#4ade80;--serif:'Crimson Pro',Georgia,serif;--sans:'IBM Plex Sans',-apple-system,sans-serif}
        *{margin:0;padding:0;box-sizing:border-box}
        body{font-family:var(--sans);font-size:16px;line-height:1.7;color:var(--text);background:var(--bg)}
        nav{background:rgba(10,10,10,.92);backdrop-filter:blur(12px);border-bottom:1px solid var(--border);padding:1.5rem 2rem;position:fixed;top:0;left:0;right:0;z-index:1000;display:flex;justify-content:center;gap:3rem}
        nav a{color:var(--muted);text-decoration:none;font-size:.95rem;font-weight:500;transition:all .3s}
        nav a:hover,nav a.active{color:var(--accent)}
        .hero{min-height:85vh;display:flex;align-items:center;justify-content:center;text-align:center;padding:8rem 2rem 4rem;background:linear-gradient(180deg,#0a0a0a 0%,#1a1a1a 100%)}
        .hero h1{font-family:var(--serif);font-size:clamp(2.5rem,6vw,4.5rem);font-weight:700;margin-bottom:1.5rem}
        .hero p{font-size:1.2rem;color:var(--muted);max-width:700px;margin:0 auto 3rem}
        .btn{display:inline-block;padding:1rem 2.5rem;font-size:.95rem;font-weight:600;text-decoration:none;border-radius:2px;transition:all .3s;background:var(--accent);color:var(--bg)}
        .btn:hover{transform:translateY(-2px)}
        .container{max-width:1400px;margin:0 auto;padding:6rem 2rem}
        .stats{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1.5rem;margin:3rem 0}
        .stat-card{background:var(--surface);border:1px solid var(--border);padding:2rem;text-align:center}
        .stat-label{font-size:.85rem;color:var(--muted);text-transform:uppercase;margin-bottom:.8rem}
        .stat-value{font-family:var(--serif);font-size:2.5rem;font-weight:700;color:var(--accent)}
        .stat-value.positive{color:var(--success)}
        .stat-value.negative{color:var(--warning)}
        .chart-wrapper{background:var(--surface);border:1px solid var(--border);padding:2rem;margin:3rem 0}
        .chart-title{font-family:var(--serif);font-size:1.4rem;font-weight:600;color:var(--accent);margin-bottom:2rem;text-align:center}
        table{width:100%;border-collapse:collapse;background:var(--surface);border:1px solid var(--border);margin:2rem 0}
        th{background:rgba(212,175,55,.08);padding:1rem;text-align:left;font-weight:600;font-size:.85rem;color:var(--accent);border-bottom:1px solid var(--border)}
        td{padding:1rem;border-bottom:1px solid var(--border)}
        .page{display:none}
        .page.active{display:block}
        .badge{padding:.3rem .8rem;border-radius:3px;font-size:.8rem;font-weight:600}
        .badge.buy{background:rgba(74,222,128,.2);color:var(--success)}
        .disclaimer{background:rgba(200,90,84,.1);border-left:3px solid var(--warning);padding:2rem;margin:3rem 0;font-size:.95rem;color:var(--muted)}
        @media(max-width:768px){nav{flex-direction:column;gap:1rem}}
    </style>
</head>
<body>
    <nav>
        <a href="#" onclick="show('home')" class="active">Accueil</a>
        <a href="#" onclick="show('portfolio')">Portefeuille</a>
        <a href="vision-2026.html">Vision 2026</a>
    </nav>

    <div id="home" class="page active">
        <div class="hero">
            <div>
                <h1>Atlas Géopolitique</h1>
                <p>Portefeuille de 50k$ suivi en temps réel. Thèses basées sur la géopolitique, le nucléaire et la finance onchain.</p>
                <a href="#" onclick="show('portfolio')" class="btn">Voir le portefeuille →</a>
            </div>
        </div>
    </div>

    <div id="portfolio" class="page">
        <div class="container" style="padding-top:8rem">
            <h1 style="font-family:var(--serif);font-size:3rem;text-align:center;margin-bottom:1rem">Portefeuille Modèle — 50 000 $</h1>
            <p style="text-align:center;color:var(--muted);margin-bottom:3rem">Suivi en temps réel • Comparaison vs 70% S&P500 + 30% SMI</p>

            <div class="disclaimer">
                <strong style="color:var(--warning)">⚠️ Portefeuille modèle éducatif</strong><br>
                Ce portefeuille de 50k$ est un exemple pédagogique. Ne le répliquez pas sans consulter un conseiller financier.
            </div>

            <div class="stats">
                <div class="stat-card">
                    <div class="stat-label">Valeur actuelle</div>
                    <div class="stat-value" id="total">$50,000</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">Performance</div>
                    <div class="stat-value" id="perf">0.00%</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">vs Benchmark</div>
                    <div class="stat-value" id="bench">—</div>
                </div>
            </div>

            <div class="chart-wrapper">
                <div class="chart-title">Allocation actuelle (temps réel)</div>
                <canvas id="chart"></canvas>
            </div>

            <div class="chart-wrapper">
                <div class="chart-title">Positions détaillées</div>
                <table>
                    <thead>
                        <tr><th>Actif</th><th>Quantité</th><th>Prix achat</th><th>Prix actuel</th><th>Valeur</th><th>P&L</th></tr>
                    </thead>
                    <tbody id="positions"></tbody>
                </table>
            </div>

            <div class="chart-wrapper">
                <div class="chart-title">Historique des transactions</div>
                <table>
                    <thead>
                        <tr><th>Date</th><th>Type</th><th>Actif</th><th>Quantité</th><th>Prix</th><th>Montant</th></tr>
                    </thead>
                    <tbody>
                        <tr><td>03/02/2026</td><td><span class="badge buy">ACHAT</span></td><td>CHF (Cash)</td><td>20,000</td><td>$1.00</td><td>$20,000</td></tr>
                        <tr><td>03/02/2026</td><td><span class="badge buy">ACHAT</span></td><td>HYPE</td><td>500</td><td>$30.00</td><td>$15,000</td></tr>
                        <tr><td>03/02/2026</td><td><span class="badge buy">ACHAT</span></td><td>URNM</td><td id="urnm-qty">—</td><td id="urnm-px">—</td><td>$15,000</td></tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <script>
        const P={i:50000,chf:{q:20000,bp:1},hype:{q:500,bp:30},urnm:{q:0,bp:0,a:15000}};
        
        function show(p){
            document.querySelectorAll('.page').forEach(e=>e.classList.remove('active'));
            document.getElementById(p).classList.add('active');
            document.querySelectorAll('nav a').forEach(a=>a.classList.remove('active'));
            event.target.classList.add('active');
            if(p==='portfolio')load();
        }
        
        async function load(){
            try{
                const u=await(await fetch('https://query1.finance.yahoo.com/v8/finance/chart/URNM?interval=1d&range=1d')).json();
                const c=await(await fetch('https://query1.finance.yahoo.com/v8/finance/chart/USDCHF=X?interval=1d&range=1d')).json();
                const up=u.chart.result[0].meta.regularMarketPrice;
                const cp=c.chart.result[0].meta.regularMarketPrice;
                const hp=30;
                
                if(!P.urnm.q){P.urnm.bp=up;P.urnm.q=Math.floor(P.urnm.a/up)}
                
                const cv=P.chf.q/cp;
                const hv=P.hype.q*hp;
                const uv=P.urnm.q*up;
                const tv=cv+hv+uv;
                const pl=tv-P.i;
                const pp=(pl/P.i)*100;
                
                document.getElementById('total').textContent=`$${tv.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,",")}`;
                document.getElementById('perf').textContent=`${pp>=0?'+':''}${pp.toFixed(2)}%`;
                document.getElementById('perf').className=`stat-value ${pp>=0?'positive':'negative'}`;
                
                document.getElementById('positions').innerHTML=`
                    <tr><td>CHF</td><td>${P.chf.q.toFixed(0)}</td><td>$${P.chf.bp.toFixed(4)}</td><td>$${(1/cp).toFixed(4)}</td><td>$${cv.toFixed(2)}</td><td style="color:${cv-20000>=0?'var(--success)':'var(--warning)'}">$${(cv-20000).toFixed(2)}</td></tr>
                    <tr><td>HYPE</td><td>${P.hype.q}</td><td>$${P.hype.bp.toFixed(2)}</td><td>$${hp.toFixed(2)}</td><td>$${hv.toFixed(2)}</td><td style="color:${hv-15000>=0?'var(--success)':'var(--warning)'}">$${(hv-15000).toFixed(2)}</td></tr>
                    <tr><td>URNM</td><td>${P.urnm.q}</td><td>$${P.urnm.bp.toFixed(2)}</td><td>$${up.toFixed(2)}</td><td>$${uv.toFixed(2)}</td><td style="color:${uv-15000>=0?'var(--success)':'var(--warning)'}">$${(uv-15000).toFixed(2)}</td></tr>
                `;
                
                document.getElementById('urnm-qty').textContent=P.urnm.q;
                document.getElementById('urnm-px').textContent=`$${P.urnm.bp.toFixed(2)}`;
                
                const ctx=document.getElementById('chart');
                if(window.c)window.c.destroy();
                window.c=new Chart(ctx,{
                    type:'doughnut',
                    data:{
                        labels:['CHF','HYPE','URNM'],
                        datasets:[{
                            data:[cv,hv,uv],
                            backgroundColor:['rgba(212,175,55,0.8)','rgba(100,149,237,0.8)','rgba(255,165,0,0.8)'],
                            borderWidth:2
                        }]
                    },
                    options:{
                        responsive:true,
                        plugins:{
                            legend:{position:'bottom',labels:{color:'#e8e8e8',padding:20}},
                            tooltip:{callbacks:{label:c=>`${c.label}: $${c.parsed.toFixed(2)} (${((c.parsed/tv)*100).toFixed(1)}%)`}}
                        }
                    }
                });
            }catch(e){console.error(e)}
        }
    </script>
</body>
</html>
